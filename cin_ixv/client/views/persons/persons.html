<template name="Persons">
	{{#if listMode}} 
		{{> PersonsView}} 
	{{/if}}

	{{#if insertMode}} 
		{{> PersonsInsertForm}} 
	{{/if}}
</template>

<template name="PersonsView">
	<div id="dataview">
		<div class="page-header">
			<h1 id="page_title">
				Persons
			</h1>
		</div>
		<form id="dataview-controls" class="form-inline">
			{{#if isAdmin}}
			<div id="dataview-controls-insert" class="form-group">
				<button type="submit" id="dataview-insert-button" class="btn btn-success">
					<span class="fa fa-plus">
					</span>
					Add new
				</button>
			</div>
			{{/if}}
			<div id="dataview-controls-search" class="form-group">
				<label class="sr-only" for="search">
					Search
				</label>
				<input type="text" class="form-control" id="dataview-search-input" placeholder="Search" name="search" value="" autofocus>
				<button type="button" id="dataview-search-button" class="btn btn-default">
					<span class="fa fa-search">
					</span>
				</button>
			</div>
		</form>
		<div id="dataview-data">
			{{> PersonsViewData}}
		</div>
	</div>
</template>

<template name="PersonsViewData">
	<table id="dataview-table" class="table table-hover">
		<thead id="dataview-data-header">
			{{> PersonsViewDataHeader}}
		</thead>
		<tbody id="dataview-data-items">
			{{#each persons}} 
				{{> PersonsViewDataItems}} 
			{{/each}}
		</tbody>
	</table>
</template>

<template name="PersonsViewDataHeader">
	<tr id="dataview-data-header-row">
		<th>
			Name
		</th>
		<th>
			Birth date
		</th>
		<th>
			Address
		</th>
		<th>
			Status
		</th>
		<th>
			&nbsp;
		</th>
	</tr>
</template>

<template name="PersonsViewDataItems">
	<tr id="dataview-data-items-row">
		<td>
			{{name}}
		</td>
		<td>
			{{birthDate}}
		</td>
		<td>
			{{address}}
		</td>
		<td>
			{{status}}
		</td>
		<td class="td-icon">
			{{#if isAdmin}}
				<span class="fa fa-trash-o delete-button" title="Delete"></span>
			{{/if}}
		</td>
	</tr>
</template>

<template name="PersonsInsertForm">
	<div class="row">
		<div class="col-md-6">
			<h1 id="page_title">
				New Person
			</h1>

			<form id="form" role="form">
				<div class="form-group">
					<label for="name" class="control-label">
						Name
					</label>
					<input type="text" name="name" value="" class="form-control" required autofocus>
				</div>
				<div class="form-group">
					<label for="birthDate" class="control-label">
						Birth date
					</label>
					<div class="input-group">
						<input type="text" name="birthDate" value="" class="form-control datepicker">
						<span class="input-group-btn">
							<button class="btn btn-default datepicker-button" type="button"><span class="glyphicon glyphicon-calendar"></span></button>
						</span>
					</div>
				</div>
				<div class="form-group">
					<label for="address" class="control-label">
						Address
					</label>
					<input type="text" name="address" value="" class="form-control">
				</div>
				<div class="form-group">
					<button class="btn btn-success" type="submit">
						<span class="fa fa-check">
						</span>
						Save
					</button>

					<button class="btn btn-default" type="button" id="form-button-cancel">
						Cancel
					</button>
				</div>
			</form>
		</div>
	</div>
</template>
